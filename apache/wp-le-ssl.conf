<IfModule mod_ssl.c>
<VirtualHost *:443>

  # Admin email, Server Name (domain name) and any aliases
  ServerAdmin alex@melloh.io
  ServerName melloh.io
  ServerAlias www.melloh.io

  # Index file and Document Root (where the public files are located)
  ErrorDocument 404 /errors/notfound.html 
  DocumentRoot /var/www/html/wordpress
  <Directory />
	Options FollowSymLinks
	AllowOverride none
  </Directory>
  
  <Directory /var/www/html/wordpress>
	Options Indexes FollowSymLinks MultiViews
	AllowOverride none
	Order allow,deny
	allow from all
  </Directory>

  #Custom log file locations
  LogLevel warn
  ErrorLog /var/log/apache2/error-melloh.log
  CustomLog /var/log/apache2/access-melloh.log combined

RewriteEngine on
# Some rewrite rules in this file were disabled on your HTTPS site,
# because they have the potential to create redirection loops.

# RewriteCond %{SERVER_NAME} =www.melloh.io [OR]
# RewriteCond %{SERVER_NAME} =melloh.io
# RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]
Include /etc/letsencrypt/options-ssl-apache.conf
Include /etc/letsencrypt/options-ssl-apache.conf
Include /etc/letsencrypt/options-ssl-apache.conf
Include /etc/letsencrypt/options-ssl-apache.conf
SSLCertificateFile /etc/letsencrypt/live/melloh.io/fullchain.pem
SSLCertificateKeyFile /etc/letsencrypt/live/melloh.io/privkey.pem
Include /etc/letsencrypt/options-ssl-apache.conf
</VirtualHost>
</IfModule>

<IfModule mod_ssl.c>
<VirtualHost *:443>

	ServerAdmin alex@melloh.io
	ServerName alex.melloh.io
	ServerAlias www.alex.melloh.io

	ErrorDocument 404 /errors/notfound.html
	DocumentRoot /var/www/html/cheat
	<Directory />
		Options FollowSymLinks
		AllowOverride none
	</Directory>
	<Directory /var/www/html/cheat>
		Options Indexes FollowSymLinks MultiViews
		AllowOverride none
		Order allow,deny
		allow from all
	</Directory>
	LogLevel warn
	
</VirtualHost>
</IfModule>

<IfModule mod_ssl.c>
<VirtualHost *:80>

  # Admin email, Server Name (domain name) and any aliases
  ServerAdmin alex@melloh.io
  ServerName melloh.io/wordpress
  ServerAlias www.melloh.io/wordpress

  # Index file and Document Root (where the public files are located)
  ErrorDocument 404 /errors/notfound.html 
  DocumentRoot /var/www/html/wordpress
  <Directory />
	Options FollowSymLinks
	AllowOverride none
  </Directory>
  
  <Directory /var/www/html/wordpress>
	Options Indexes FollowSymLinks MultiViews
	AllowOverride none
	Order allow,deny
	allow from all
  </Directory>

  #Custom log file locations
  LogLevel warn
  ErrorLog /var/log/apache2/error-melloh.log
  CustomLog /var/log/apache2/access-melloh.log combined

RewriteEngine on
# Some rewrite rules in this file were disabled on your HTTPS site,
# because they have the potential to create redirection loops.

# RewriteCond %{SERVER_NAME} =www.melloh.io [OR]
# RewriteCond %{SERVER_NAME} =melloh.io
# RewriteRule ^ https://%{SERVER_NAME}%{REQUEST_URI} [END,NE,R=permanent]
</VirtualHost>
</IfModule>
